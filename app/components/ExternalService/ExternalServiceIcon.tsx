import { ExternalService } from "../types";

export interface ExternalServiceProps {
  service: ExternalService;
  url: string;
  width?: string;
  height?: string;
  scaleFactor?: number;
}

const defaultPath =
  "M8.322 7.809a.452.452 0 0 1 .858 0l.806 2.421a3.613 3.613 0 0 0 2.286 2.285l2.42.806a.452.452 0 0 1 0 .858l-2.421.806a3.613 3.613 0 0 0-2.285 2.286l-.806 2.42a.451.451 0 0 1-.858 0l-.806-2.421a3.612 3.612 0 0 0-2.285-2.285l-2.421-.806a.452.452 0 0 1 0-.858l2.421-.806a3.611 3.611 0 0 0 2.285-2.285l.806-2.421ZM3.493 1.435a.271.271 0 0 1 .515 0l.484 1.453a2.17 2.17 0 0 0 1.371 1.37l1.453.484a.271.271 0 0 1 0 .516l-1.453.483a2.168 2.168 0 0 0-1.37 1.372l-.485 1.452a.271.271 0 0 1-.515 0L3.01 7.113A2.167 2.167 0 0 0 1.638 5.74L.186 5.258a.271.271 0 0 1 0-.516l1.452-.483A2.167 2.167 0 0 0 3.01 2.887l.483-1.452ZM12.33.124a.182.182 0 0 1 .342 0l.323.967c.144.433.482.772.915.915l.967.323a.181.181 0 0 1 0 .342l-.967.323a1.445 1.445 0 0 0-.915.915l-.323.967a.18.18 0 0 1-.342 0l-.323-.967a1.445 1.445 0 0 0-.915-.915l-.966-.323a.181.181 0 0 1 0-.342l.968-.323c.432-.143.77-.482.915-.915l.32-.966V.124Z";

const serviceIconPaths: Record<ExternalService, string> = {
  website:
    "M9.688 0c-5.351 0-9.688 4.337-9.688 9.688s4.337 9.688 9.688 9.688 9.688-4.337 9.688-9.688-4.337-9.688-9.688-9.688zM18.109 9.375h-3.748c-0.034-1.384-0.281-2.707-0.717-3.918 0.844-0.352 1.624-0.82 2.335-1.373 1.264 1.419 2.055 3.262 2.13 5.291zM9.342 18.108c-1.039-0.865-1.91-1.988-2.548-3.293 0.818-0.256 1.685-0.396 2.581-0.424v3.718c-0.011 0-0.022-0.001-0.033-0.001zM10.032 1.268c1.179 0.981 2.141 2.296 2.791 3.829-0.891 0.304-1.838 0.481-2.824 0.513v-4.343c0.012 0.001 0.022 0.001 0.033 0.002zM11.073 1.374c1.725 0.287 3.273 1.092 4.478 2.259-0.654 0.502-1.369 0.927-2.143 1.249-0.569-1.348-1.367-2.54-2.335-3.507zM9.375 1.266v4.343c-0.986-0.032-1.933-0.208-2.824-0.513 0.651-1.533 1.613-2.847 2.791-3.829 0.011-0.001 0.021-0.001 0.032-0.002zM5.966 4.882c-0.772-0.322-1.487-0.747-2.142-1.249 1.204-1.166 2.752-1.972 4.477-2.259-0.969 0.967-1.766 2.159-2.336 3.508zM6.316 5.673c0.964 0.334 1.991 0.529 3.059 0.562v3.141h-3.737c0.034-1.309 0.266-2.559 0.678-3.703zM9.375 10v3.766c-0.986 0.030-1.939 0.191-2.837 0.481-0.541-1.289-0.861-2.724-0.9-4.246h3.737zM8.302 18.001c-1.546-0.257-2.949-0.93-4.091-1.907 0.616-0.427 1.281-0.788 1.993-1.063 0.545 1.13 1.258 2.133 2.098 2.97zM10 18.109v-3.718c0.895 0.029 1.762 0.169 2.581 0.424-0.638 1.304-1.509 2.428-2.547 3.293-0.011 0-0.022 0.001-0.033 0.001zM13.171 15.031c0.711 0.274 1.376 0.636 1.992 1.063-1.141 0.977-2.545 1.651-4.091 1.907 0.84-0.837 1.553-1.84 2.098-2.97zM12.837 14.246c-0.899-0.289-1.852-0.451-2.837-0.481v-3.766h3.737c-0.039 1.522-0.359 2.957-0.9 4.246zM10 9.375v-3.141c1.068-0.032 2.095-0.227 3.059-0.561 0.411 1.143 0.643 2.394 0.678 3.703h-3.737zM3.396 4.084c0.711 0.553 1.491 1.021 2.334 1.373-0.437 1.211-0.683 2.533-0.717 3.918h-3.748c0.075-2.028 0.866-3.871 2.131-5.291zM1.266 10h3.748c0.039 1.597 0.373 3.105 0.939 4.461-0.792 0.309-1.53 0.72-2.211 1.207-1.467-1.461-2.394-3.457-2.476-5.668zM15.634 15.667c-0.681-0.486-1.419-0.898-2.212-1.207 0.568-1.356 0.901-2.864 0.94-4.461h3.748c-0.082 2.211-1.009 4.207-2.476 5.668z",
  xing: "M7.645 8.538c0 0 0-0.011-1.406-2.478-0.112-0.179-0.268-0.379-0.58-0.379h-2.054c-0.134 0-0.234 0.045-0.29 0.123-0.056 0.089-0.045 0.212 0.011 0.324l1.395 2.411v0.011l-2.188 3.862c-0.067 0.112-0.056 0.223 0 0.313s0.145 0.145 0.268 0.145h2.065c0.301 0 0.458-0.212 0.558-0.402 2.143-3.783 2.221-3.929 2.221-3.929zM14.609 2.991c-0.056-0.089-0.145-0.134-0.268-0.134h-2.087c-0.301 0-0.435 0.19-0.547 0.391-4.442 7.879-4.587 8.136-4.587 8.136s0 0.011 2.924 5.368c0.1 0.179 0.257 0.391 0.58 0.391h2.054c0.123 0 0.223-0.045 0.279-0.134s0.056-0.201-0.011-0.313l-2.902-5.313v-0.011l4.565-8.069c0.056-0.112 0.056-0.223 0-0.313zM17.143 4.643v10.714c0 1.775-1.44 3.214-3.214 3.214h-10.714c-1.775 0-3.214-1.44-3.214-3.214v-10.714c0-1.775 1.44-3.214 3.214-3.214h10.714c1.775 0 3.214 1.44 3.214 3.214z",
  facebook:
    "M13.929 1.429c1.775 0 3.214 1.44 3.214 3.214v10.714c0 1.775-1.44 3.214-3.214 3.214h-2.098v-6.641h2.221l0.335-2.589h-2.556v-1.652c0-0.748 0.201-1.25 1.283-1.25l1.362-0.011v-2.31c-0.234-0.033-1.049-0.1-1.987-0.1-1.975 0-3.337 1.205-3.337 3.415v1.908h-2.232v2.589h2.232v6.641h-5.937c-1.775 0-3.214-1.44-3.214-3.214v-10.714c0-1.775 1.44-3.214 3.214-3.214h10.714z",
  twitter:
    "M14.286 6.808c-0.424 0.19-0.871 0.313-1.35 0.379 0.491-0.29 0.859-0.759 1.038-1.306-0.458 0.268-0.96 0.469-1.496 0.569-0.424-0.458-1.038-0.737-1.708-0.737-1.295 0-2.344 1.049-2.344 2.344 0 0.179 0.011 0.368 0.056 0.536-1.953-0.1-3.683-1.027-4.844-2.455-0.201 0.346-0.324 0.759-0.324 1.183 0 0.815 0.379 1.529 1.016 1.953-0.391-0.011-0.759-0.123-1.116-0.29v0.022c0 1.138 0.859 2.087 1.931 2.299-0.201 0.056-0.357 0.089-0.569 0.089-0.145 0-0.29-0.022-0.435-0.045 0.301 0.926 1.161 1.607 2.188 1.629-0.804 0.625-1.808 1.004-2.913 1.004-0.19 0-0.379-0.011-0.558-0.033 1.038 0.658 2.266 1.049 3.594 1.049 4.308 0 6.674-3.571 6.674-6.674 0-0.1 0-0.201-0.011-0.301 0.458-0.324 0.859-0.737 1.172-1.217zM17.143 4.643v10.714c0 1.775-1.44 3.214-3.214 3.214h-10.714c-1.775 0-3.214-1.44-3.214-3.214v-10.714c0-1.775 1.44-3.214 3.214-3.214h10.714c1.775 0 3.214 1.44 3.214 3.214z",
  youtube:
    "M8.051 1.999h.089c.822.003 4.987.033 6.11.335a2.01 2.01 0 0 1 1.415 1.42c.101.38.172.883.22 1.402l.01.104.022.26.008.104c.065.914.073 1.77.074 1.957v.075c-.001.194-.01 1.108-.082 2.06l-.008.105-.009.104c-.05.572-.124 1.14-.235 1.558a2.007 2.007 0 0 1-1.415 1.42c-1.16.312-5.569.334-6.18.335h-.142c-.309 0-1.587-.006-2.927-.052l-.17-.006-.087-.004-.171-.007-.171-.007c-1.11-.049-2.167-.128-2.654-.26a2.007 2.007 0 0 1-1.415-1.419c-.111-.417-.185-.986-.235-1.558L.09 9.82l-.008-.104A31.4 31.4 0 0 1 0 7.68v-.123c.002-.215.01-.958.064-1.778l.007-.103.003-.052.008-.104.022-.26.01-.104c.048-.519.119-1.023.22-1.402a2.007 2.007 0 0 1 1.415-1.42c.487-.13 1.544-.21 2.654-.26l.17-.007.172-.006.086-.003.171-.007A99.788 99.788 0 0 1 7.858 2h.193zM6.4 5.209v4.818l4.157-2.408L6.4 5.209z",
  instagram:
    "M8 0C5.829 0 5.556.01 4.703.048 3.85.088 3.269.222 2.76.42a3.917 3.917 0 0 0-1.417.923A3.927 3.927 0 0 0 .42 2.76C.222 3.268.087 3.85.048 4.7.01 5.555 0 5.827 0 8.001c0 2.172.01 2.444.048 3.297.04.852.174 1.433.372 1.942.205.526.478.972.923 1.417.444.445.89.719 1.416.923.51.198 1.09.333 1.942.372C5.555 15.99 5.827 16 8 16s2.444-.01 3.298-.048c.851-.04 1.434-.174 1.943-.372a3.916 3.916 0 0 0 1.416-.923c.445-.445.718-.891.923-1.417.197-.509.332-1.09.372-1.942C15.99 10.445 16 10.173 16 8s-.01-2.445-.048-3.299c-.04-.851-.175-1.433-.372-1.941a3.926 3.926 0 0 0-.923-1.417A3.911 3.911 0 0 0 13.24.42c-.51-.198-1.092-.333-1.943-.372C10.443.01 10.172 0 7.998 0h.003zm-.717 1.442h.718c2.136 0 2.389.007 3.232.046.78.035 1.204.166 1.486.275.373.145.64.319.92.599.28.28.453.546.598.92.11.281.24.705.275 1.485.039.843.047 1.096.047 3.231s-.008 2.389-.047 3.232c-.035.78-.166 1.203-.275 1.485a2.47 2.47 0 0 1-.599.919c-.28.28-.546.453-.92.598-.28.11-.704.24-1.485.276-.843.038-1.096.047-3.232.047s-2.39-.009-3.233-.047c-.78-.036-1.203-.166-1.485-.276a2.478 2.478 0 0 1-.92-.598 2.48 2.48 0 0 1-.6-.92c-.109-.281-.24-.705-.275-1.485-.038-.843-.046-1.096-.046-3.233 0-2.136.008-2.388.046-3.231.036-.78.166-1.204.276-1.486.145-.373.319-.64.599-.92.28-.28.546-.453.92-.598.282-.11.705-.24 1.485-.276.738-.034 1.024-.044 2.515-.045v.002zm4.988 1.328a.96.96 0 1 0 0 1.92.96.96 0 0 0 0-1.92zm-4.27 1.122a4.109 4.109 0 1 0 0 8.217 4.109 4.109 0 0 0 0-8.217zm0 1.441a2.667 2.667 0 1 1 0 5.334 2.667 2.667 0 0 1 0-5.334z",
  linkedin:
    "M2.645 15.781h2.578v-7.746h-2.578v7.746zM5.391 5.647c-0.011-0.759-0.558-1.339-1.44-1.339s-1.462 0.58-1.462 1.339c0 0.737 0.558 1.339 1.429 1.339h0.011c0.904 0 1.462-0.603 1.462-1.339zM11.92 15.781h2.578v-4.442c0-2.377-1.272-3.482-2.969-3.482-1.384 0-1.998 0.77-2.333 1.306h0.022v-1.127h-2.578s0.033 0.725 0 7.746v0h2.578v-4.33c0-0.223 0.011-0.458 0.078-0.625 0.19-0.458 0.614-0.938 1.328-0.938 0.926 0 1.295 0.703 1.295 1.752v4.141zM17.143 4.643v10.714c0 1.775-1.44 3.214-3.214 3.214h-10.714c-1.775 0-3.214-1.44-3.214-3.214v-10.714c0-1.775 1.44-3.214 3.214-3.214h10.714c1.775 0 3.214 1.44 3.214 3.214z",
};

function ServiceIcon({
  service,
  width,
  height,
  scaleFactor,
}: {
  service: ExternalService;
  width: string;
  height: string;
  scaleFactor: number;
}) {
  const path = serviceIconPaths[service] ?? defaultPath;
  return (
    <svg
      viewBox={`0 0 ${parseInt(width) * scaleFactor} ${
        parseInt(height) * scaleFactor
      }`}
      width={width}
      height={height}
      className="fill-current"
      xmlns="http://www.w3.org/2000/svg"
    >
      <path data-testid="path" d={path} />
    </svg>
  );
}

function ExternalServiceIcon(props: ExternalServiceProps) {
  const { url, service, width = "20", height = "20", scaleFactor = 1 } = props;
  return (
    <>
      <a
        href={url}
        className="flex items-center justify-center px-4 py-3 bg-neutral-300 rounded-lg text-neutral-600"
        target="_blank"
        rel="noreferrer"
      >
        <ServiceIcon
          service={service}
          width={width}
          height={height}
          scaleFactor={scaleFactor}
        />
      </a>
    </>
  );
}

export default ExternalServiceIcon;
