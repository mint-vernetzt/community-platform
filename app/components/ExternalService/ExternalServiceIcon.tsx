import { Link } from "react-router";
import { ExternalService } from "../types";

export interface ExternalServiceProps {
  service: ExternalService;
  url: string;
  width?: string;
  height?: string;
  scaleFactor?: number;
}

const defaultPath =
  "M8.322 7.809a.452.452 0 0 1 .858 0l.806 2.421a3.613 3.613 0 0 0 2.286 2.285l2.42.806a.452.452 0 0 1 0 .858l-2.421.806a3.613 3.613 0 0 0-2.285 2.286l-.806 2.42a.451.451 0 0 1-.858 0l-.806-2.421a3.612 3.612 0 0 0-2.285-2.285l-2.421-.806a.452.452 0 0 1 0-.858l2.421-.806a3.611 3.611 0 0 0 2.285-2.285l.806-2.421ZM3.493 1.435a.271.271 0 0 1 .515 0l.484 1.453a2.17 2.17 0 0 0 1.371 1.37l1.453.484a.271.271 0 0 1 0 .516l-1.453.483a2.168 2.168 0 0 0-1.37 1.372l-.485 1.452a.271.271 0 0 1-.515 0L3.01 7.113A2.167 2.167 0 0 0 1.638 5.74L.186 5.258a.271.271 0 0 1 0-.516l1.452-.483A2.167 2.167 0 0 0 3.01 2.887l.483-1.452ZM12.33.124a.182.182 0 0 1 .342 0l.323.967c.144.433.482.772.915.915l.967.323a.181.181 0 0 1 0 .342l-.967.323a1.445 1.445 0 0 0-.915.915l-.323.967a.18.18 0 0 1-.342 0l-.323-.967a1.445 1.445 0 0 0-.915-.915l-.966-.323a.181.181 0 0 1 0-.342l.968-.323c.432-.143.77-.482.915-.915l.32-.966V.124Z";

const serviceIconPaths: Record<ExternalService, string> = {
  website:
    "M9.688 0c-5.351 0-9.688 4.337-9.688 9.688s4.337 9.688 9.688 9.688 9.688-4.337 9.688-9.688-4.337-9.688-9.688-9.688zM18.109 9.375h-3.748c-0.034-1.384-0.281-2.707-0.717-3.918 0.844-0.352 1.624-0.82 2.335-1.373 1.264 1.419 2.055 3.262 2.13 5.291zM9.342 18.108c-1.039-0.865-1.91-1.988-2.548-3.293 0.818-0.256 1.685-0.396 2.581-0.424v3.718c-0.011 0-0.022-0.001-0.033-0.001zM10.032 1.268c1.179 0.981 2.141 2.296 2.791 3.829-0.891 0.304-1.838 0.481-2.824 0.513v-4.343c0.012 0.001 0.022 0.001 0.033 0.002zM11.073 1.374c1.725 0.287 3.273 1.092 4.478 2.259-0.654 0.502-1.369 0.927-2.143 1.249-0.569-1.348-1.367-2.54-2.335-3.507zM9.375 1.266v4.343c-0.986-0.032-1.933-0.208-2.824-0.513 0.651-1.533 1.613-2.847 2.791-3.829 0.011-0.001 0.021-0.001 0.032-0.002zM5.966 4.882c-0.772-0.322-1.487-0.747-2.142-1.249 1.204-1.166 2.752-1.972 4.477-2.259-0.969 0.967-1.766 2.159-2.336 3.508zM6.316 5.673c0.964 0.334 1.991 0.529 3.059 0.562v3.141h-3.737c0.034-1.309 0.266-2.559 0.678-3.703zM9.375 10v3.766c-0.986 0.030-1.939 0.191-2.837 0.481-0.541-1.289-0.861-2.724-0.9-4.246h3.737zM8.302 18.001c-1.546-0.257-2.949-0.93-4.091-1.907 0.616-0.427 1.281-0.788 1.993-1.063 0.545 1.13 1.258 2.133 2.098 2.97zM10 18.109v-3.718c0.895 0.029 1.762 0.169 2.581 0.424-0.638 1.304-1.509 2.428-2.547 3.293-0.011 0-0.022 0.001-0.033 0.001zM13.171 15.031c0.711 0.274 1.376 0.636 1.992 1.063-1.141 0.977-2.545 1.651-4.091 1.907 0.84-0.837 1.553-1.84 2.098-2.97zM12.837 14.246c-0.899-0.289-1.852-0.451-2.837-0.481v-3.766h3.737c-0.039 1.522-0.359 2.957-0.9 4.246zM10 9.375v-3.141c1.068-0.032 2.095-0.227 3.059-0.561 0.411 1.143 0.643 2.394 0.678 3.703h-3.737zM3.396 4.084c0.711 0.553 1.491 1.021 2.334 1.373-0.437 1.211-0.683 2.533-0.717 3.918h-3.748c0.075-2.028 0.866-3.871 2.131-5.291zM1.266 10h3.748c0.039 1.597 0.373 3.105 0.939 4.461-0.792 0.309-1.53 0.72-2.211 1.207-1.467-1.461-2.394-3.457-2.476-5.668zM15.634 15.667c-0.681-0.486-1.419-0.898-2.212-1.207 0.568-1.356 0.901-2.864 0.94-4.461h3.748c-0.082 2.211-1.009 4.207-2.476 5.668z",
  xing: "M7.645 8.538c0 0 0-0.011-1.406-2.478-0.112-0.179-0.268-0.379-0.58-0.379h-2.054c-0.134 0-0.234 0.045-0.29 0.123-0.056 0.089-0.045 0.212 0.011 0.324l1.395 2.411v0.011l-2.188 3.862c-0.067 0.112-0.056 0.223 0 0.313s0.145 0.145 0.268 0.145h2.065c0.301 0 0.458-0.212 0.558-0.402 2.143-3.783 2.221-3.929 2.221-3.929zM14.609 2.991c-0.056-0.089-0.145-0.134-0.268-0.134h-2.087c-0.301 0-0.435 0.19-0.547 0.391-4.442 7.879-4.587 8.136-4.587 8.136s0 0.011 2.924 5.368c0.1 0.179 0.257 0.391 0.58 0.391h2.054c0.123 0 0.223-0.045 0.279-0.134s0.056-0.201-0.011-0.313l-2.902-5.313v-0.011l4.565-8.069c0.056-0.112 0.056-0.223 0-0.313zM17.143 4.643v10.714c0 1.775-1.44 3.214-3.214 3.214h-10.714c-1.775 0-3.214-1.44-3.214-3.214v-10.714c0-1.775 1.44-3.214 3.214-3.214h10.714c1.775 0 3.214 1.44 3.214 3.214z",
  facebook:
    "M13.929 1.429c1.775 0 3.214 1.44 3.214 3.214v10.714c0 1.775-1.44 3.214-3.214 3.214h-2.098v-6.641h2.221l0.335-2.589h-2.556v-1.652c0-0.748 0.201-1.25 1.283-1.25l1.362-0.011v-2.31c-0.234-0.033-1.049-0.1-1.987-0.1-1.975 0-3.337 1.205-3.337 3.415v1.908h-2.232v2.589h2.232v6.641h-5.937c-1.775 0-3.214-1.44-3.214-3.214v-10.714c0-1.775 1.44-3.214 3.214-3.214h10.714z",
  twitter:
    "M14.286 6.808c-0.424 0.19-0.871 0.313-1.35 0.379 0.491-0.29 0.859-0.759 1.038-1.306-0.458 0.268-0.96 0.469-1.496 0.569-0.424-0.458-1.038-0.737-1.708-0.737-1.295 0-2.344 1.049-2.344 2.344 0 0.179 0.011 0.368 0.056 0.536-1.953-0.1-3.683-1.027-4.844-2.455-0.201 0.346-0.324 0.759-0.324 1.183 0 0.815 0.379 1.529 1.016 1.953-0.391-0.011-0.759-0.123-1.116-0.29v0.022c0 1.138 0.859 2.087 1.931 2.299-0.201 0.056-0.357 0.089-0.569 0.089-0.145 0-0.29-0.022-0.435-0.045 0.301 0.926 1.161 1.607 2.188 1.629-0.804 0.625-1.808 1.004-2.913 1.004-0.19 0-0.379-0.011-0.558-0.033 1.038 0.658 2.266 1.049 3.594 1.049 4.308 0 6.674-3.571 6.674-6.674 0-0.1 0-0.201-0.011-0.301 0.458-0.324 0.859-0.737 1.172-1.217zM17.143 4.643v10.714c0 1.775-1.44 3.214-3.214 3.214h-10.714c-1.775 0-3.214-1.44-3.214-3.214v-10.714c0-1.775 1.44-3.214 3.214-3.214h10.714c1.775 0 3.214 1.44 3.214 3.214z",
  youtube:
    "M7.935 12.589l5.402-2.79-5.402-2.824v5.614zM10 2.969c4.208 0 6.998 0.201 6.998 0.201 0.391 0.045 1.25 0.045 2.009 0.848 0 0 0.614 0.603 0.792 1.987 0.212 1.618 0.201 3.237 0.201 3.237v1.518s0.011 1.618-0.201 3.237c-0.179 1.373-0.792 1.987-0.792 1.987-0.759 0.792-1.618 0.792-2.009 0.837 0 0-2.79 0.212-6.998 0.212v0c-5.201-0.045-6.797-0.201-6.797-0.201-0.446-0.078-1.451-0.056-2.21-0.848 0 0-0.614-0.614-0.792-1.987-0.212-1.618-0.201-3.237-0.201-3.237v-1.518s-0.011-1.618 0.201-3.237c0.179-1.384 0.792-1.987 0.792-1.987 0.759-0.804 1.618-0.804 2.009-0.848 0 0 2.79-0.201 6.998-0.201v0z",
  instagram:
    "M11.429 10c0-1.574-1.283-2.857-2.857-2.857s-2.857 1.283-2.857 2.857 1.283 2.857 2.857 2.857 2.857-1.283 2.857-2.857zM12.969 10c0 2.433-1.964 4.397-4.397 4.397s-4.397-1.964-4.397-4.397 1.964-4.397 4.397-4.397 4.397 1.964 4.397 4.397zM14.174 5.424c0 0.569-0.458 1.027-1.027 1.027s-1.027-0.458-1.027-1.027 0.458-1.027 1.027-1.027 1.027 0.458 1.027 1.027zM8.571 2.969c-1.25 0-3.929-0.1-5.056 0.346-0.391 0.156-0.681 0.346-0.982 0.647s-0.491 0.592-0.647 0.982c-0.446 1.127-0.346 3.806-0.346 5.056s-0.1 3.929 0.346 5.056c0.156 0.391 0.346 0.681 0.647 0.982s0.592 0.491 0.982 0.647c1.127 0.446 3.806 0.346 5.056 0.346s3.929 0.1 5.056-0.346c0.391-0.156 0.681-0.346 0.982-0.647s0.491-0.592 0.647-0.982c0.446-1.127 0.346-3.806 0.346-5.056s0.1-3.929-0.346-5.056c-0.156-0.391-0.346-0.681-0.647-0.982s-0.592-0.491-0.982-0.647c-1.127-0.446-3.806-0.346-5.056-0.346zM17.143 10c0 1.183 0.011 2.355-0.056 3.538-0.067 1.373-0.379 2.589-1.384 3.594s-2.221 1.317-3.594 1.384c-1.183 0.067-2.355 0.056-3.538 0.056s-2.355 0.011-3.538-0.056c-1.373-0.067-2.589-0.379-3.594-1.384s-1.317-2.221-1.384-3.594c-0.067-1.183-0.056-2.355-0.056-3.538s-0.011-2.355 0.056-3.538c0.067-1.373 0.379-2.589 1.384-3.594s2.221-1.317 3.594-1.384c1.183-0.067 2.355-0.056 3.538-0.056s2.355-0.011 3.538 0.056c1.373 0.067 2.589 0.379 3.594 1.384s1.317 2.221 1.384 3.594c0.067 1.183 0.056 2.355 0.056 3.538z",
  linkedin:
    "M2.645 15.781h2.578v-7.746h-2.578v7.746zM5.391 5.647c-0.011-0.759-0.558-1.339-1.44-1.339s-1.462 0.58-1.462 1.339c0 0.737 0.558 1.339 1.429 1.339h0.011c0.904 0 1.462-0.603 1.462-1.339zM11.92 15.781h2.578v-4.442c0-2.377-1.272-3.482-2.969-3.482-1.384 0-1.998 0.77-2.333 1.306h0.022v-1.127h-2.578s0.033 0.725 0 7.746v0h2.578v-4.33c0-0.223 0.011-0.458 0.078-0.625 0.19-0.458 0.614-0.938 1.328-0.938 0.926 0 1.295 0.703 1.295 1.752v4.141zM17.143 4.643v10.714c0 1.775-1.44 3.214-3.214 3.214h-10.714c-1.775 0-3.214-1.44-3.214-3.214v-10.714c0-1.775 1.44-3.214 3.214-3.214h10.714c1.775 0 3.214 1.44 3.214 3.214z",
  mastodon:
    "M17.0716 18.7926C20.0939 18.4336 22.7254 16.5807 23.0562 14.8878C23.5773 12.2208 23.5343 8.37958 23.5343 8.37958C23.5343 3.17325 20.106 1.64719 20.106 1.64719C18.3774 0.857269 15.4091 0.525085 12.3253 0.5H12.2496C9.16576 0.525085 6.19945 0.857269 4.47074 1.64719C4.47074 1.64719 1.04229 3.17325 1.04229 8.37958C1.04229 8.69521 1.04065 9.02719 1.03894 9.37279C1.0342 10.3326 1.02894 11.3974 1.05684 12.5089C1.18134 17.6004 1.99502 22.6184 6.7263 23.8644C8.9078 24.4389 10.7808 24.5591 12.2892 24.4766C15.0247 24.3257 16.5603 23.5053 16.5603 23.5053L16.4701 21.5305C16.4701 21.5305 14.5153 22.1438 12.3199 22.0691C10.1447 21.9949 7.8485 21.8357 7.4967 19.1786C7.46421 18.9452 7.44797 18.6957 7.44797 18.4336C7.44797 18.4336 9.58319 18.9528 12.2892 19.0762C13.9438 19.1517 15.4955 18.9797 17.0716 18.7926ZM19.4903 15.0875H16.9802V8.96882C16.9802 7.679 16.4347 7.02433 15.3437 7.02433C14.1374 7.02433 13.5329 7.80093 13.5329 9.33656V12.6857H11.0375V9.33656C11.0375 7.80093 10.4328 7.02433 9.22656 7.02433C8.13555 7.02433 7.59011 7.679 7.59011 8.96882V15.0875H5.07996V8.78352C5.07996 7.49513 5.40966 6.47129 6.07193 5.71383C6.75487 4.95636 7.64925 4.56805 8.75949 4.56805C10.044 4.56805 11.0167 5.05928 11.6599 6.04187L12.2851 7.08471L12.9105 6.04187C13.5535 5.05928 14.5263 4.56805 15.8109 4.56805C16.921 4.56805 17.8154 4.95636 18.4985 5.71383C19.1606 6.47129 19.4903 7.49513 19.4903 8.78352V15.0875Z",
  tiktok:
    "M12.375 0.500014L15.0983 0.5C15.2949 1.48314 15.8408 2.72345 16.7957 3.95392C17.7313 5.1596 18.971 6.00001 20.625 6.00001V8.75001C18.2141 8.75001 16.4025 7.63137 15.125 6.23567V15.625C15.125 19.422 12.047 22.5 8.25 22.5C4.45304 22.5 1.375 19.422 1.375 15.625C1.375 11.8281 4.45304 8.75001 8.25 8.75001V11.5C5.97183 11.5 4.125 13.3468 4.125 15.625C4.125 17.9032 5.97183 19.75 8.25 19.75C10.5282 19.75 12.375 17.9032 12.375 15.625V0.500014Z",
};

function ServiceIcon({
  service,
  width,
  height,
  scaleFactor,
}: {
  service: ExternalService;
  width: string;
  height: string;
  scaleFactor: number;
}) {
  const path = serviceIconPaths[service] ?? defaultPath;
  return (
    <svg
      viewBox={`0 0 ${parseInt(width) * scaleFactor} ${
        parseInt(height) * scaleFactor
      }`}
      width={width}
      height={height}
      className="fill-current"
      xmlns="http://www.w3.org/2000/svg"
    >
      <path data-testid="path" d={path} />
    </svg>
  );
}

function ExternalServiceIcon(props: ExternalServiceProps) {
  const { url, service, width = "20", height = "20", scaleFactor = 1 } = props;
  return (
    <>
      <Link
        to={url}
        className="flex items-center justify-center px-4 py-3 bg-neutral-300 rounded-lg text-neutral-600"
        target="_blank"
        rel="noreferrer"
      >
        <ServiceIcon
          service={service}
          width={width}
          height={height}
          scaleFactor={scaleFactor}
        />
      </Link>
    </>
  );
}

export default ExternalServiceIcon;
