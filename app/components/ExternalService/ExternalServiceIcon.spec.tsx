import { render, screen, logRoles } from "@testing-library/react";
import ExternalServiceIcon from "./ExternalServiceIcon";

/** @type {jest.Expect} */
// @ts-ignore
const expect = global.expect;

const WEBSITE_PATH =
  "M9.688 0c-5.351 0-9.688 4.337-9.688 9.688s4.337 9.688 9.688 9.688 9.688-4.337 9.688-9.688-4.337-9.688-9.688-9.688zM18.109 9.375h-3.748c-0.034-1.384-0.281-2.707-0.717-3.918 0.844-0.352 1.624-0.82 2.335-1.373 1.264 1.419 2.055 3.262 2.13 5.291zM9.342 18.108c-1.039-0.865-1.91-1.988-2.548-3.293 0.818-0.256 1.685-0.396 2.581-0.424v3.718c-0.011 0-0.022-0.001-0.033-0.001zM10.032 1.268c1.179 0.981 2.141 2.296 2.791 3.829-0.891 0.304-1.838 0.481-2.824 0.513v-4.343c0.012 0.001 0.022 0.001 0.033 0.002zM11.073 1.374c1.725 0.287 3.273 1.092 4.478 2.259-0.654 0.502-1.369 0.927-2.143 1.249-0.569-1.348-1.367-2.54-2.335-3.507zM9.375 1.266v4.343c-0.986-0.032-1.933-0.208-2.824-0.513 0.651-1.533 1.613-2.847 2.791-3.829 0.011-0.001 0.021-0.001 0.032-0.002zM5.966 4.882c-0.772-0.322-1.487-0.747-2.142-1.249 1.204-1.166 2.752-1.972 4.477-2.259-0.969 0.967-1.766 2.159-2.336 3.508zM6.316 5.673c0.964 0.334 1.991 0.529 3.059 0.562v3.141h-3.737c0.034-1.309 0.266-2.559 0.678-3.703zM9.375 10v3.766c-0.986 0.030-1.939 0.191-2.837 0.481-0.541-1.289-0.861-2.724-0.9-4.246h3.737zM8.302 18.001c-1.546-0.257-2.949-0.93-4.091-1.907 0.616-0.427 1.281-0.788 1.993-1.063 0.545 1.13 1.258 2.133 2.098 2.97zM10 18.109v-3.718c0.895 0.029 1.762 0.169 2.581 0.424-0.638 1.304-1.509 2.428-2.547 3.293-0.011 0-0.022 0.001-0.033 0.001zM13.171 15.031c0.711 0.274 1.376 0.636 1.992 1.063-1.141 0.977-2.545 1.651-4.091 1.907 0.84-0.837 1.553-1.84 2.098-2.97zM12.837 14.246c-0.899-0.289-1.852-0.451-2.837-0.481v-3.766h3.737c-0.039 1.522-0.359 2.957-0.9 4.246zM10 9.375v-3.141c1.068-0.032 2.095-0.227 3.059-0.561 0.411 1.143 0.643 2.394 0.678 3.703h-3.737zM3.396 4.084c0.711 0.553 1.491 1.021 2.334 1.373-0.437 1.211-0.683 2.533-0.717 3.918h-3.748c0.075-2.028 0.866-3.871 2.131-5.291zM1.266 10h3.748c0.039 1.597 0.373 3.105 0.939 4.461-0.792 0.309-1.53 0.72-2.211 1.207-1.467-1.461-2.394-3.457-2.476-5.668zM15.634 15.667c-0.681-0.486-1.419-0.898-2.212-1.207 0.568-1.356 0.901-2.864 0.94-4.461h3.748c-0.082 2.211-1.009 4.207-2.476 5.668z";

test("url and correct icon is displayed", () => {
  render(<ExternalServiceIcon service="website" url="http://test.tld" />);
  expect(screen.getByRole("link")).toHaveAttribute("href", "http://test.tld");
  expect(screen.getByTestId("path")).toHaveAttribute("d", WEBSITE_PATH);
});
